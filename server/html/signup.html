<html>
    <script> 
        function submit(){
            let bod = JSON.stringify({
                "username":document.getElementById('name').value,
                "password":document.getElementById('password').value
            })
            fetch('http://localhost:8080/signup.api',{
                method:'POST',
                body:bod
            })
            .then(response=>response.text())
            .then(data=>{ 
                //fishy equals. Should be tighter
                if(data != 'username already exists'){
                    history.pushState("test",'',"/")
                }
                else{
                    alert("username already exists") 
                }
            })
        }
    </script>
    <body>
        username
        <textarea id='name'></textarea>
        <br/>
        password
        <textarea id='password'></textarea>  
        <br/>
        <button onClick="submit()">  sign up </button>
        <br/>
        <a href="/login.html"> login </a>
        <br/>
        <a href="/index.html"> home </a>
    </body>
</html>
